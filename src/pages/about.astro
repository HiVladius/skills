---
import Layout from '../layouts/Layout.astro';

interface Skill {
  name: string;
  level: string;
}

interface Identity {
  firstName: string;
  country: string;
  ocupation: string;
  hobbies: string[];
}



const sobreMi =  'About';
const mySiteTitle = 'Skills & Identity';

const identity: Identity = {
  firstName: 'Vladimir',
  country: 'México',
  ocupation: 'Desarrollador Web',
  hobbies: ['Leer', 'Programar', 'Jugar videojuegos', 'Escuchar música', 'Ver películas']
};

// Separar habilidades en Frontend y Backend
const frontendSkills: Skill[] = [
  { name: 'JavaScript', level: 'Avanzado' },
  { name: 'CSS', level: 'Intermedio' },
  { name: 'HTML', level: 'Avanzado' },
  { name: 'Astro', level: 'Intermedio' },
  { name: 'React', level: 'Avanzado' },
  { name: 'TypeScript', level: 'Avanzado' },
  { name: 'Tailwind CSS', level: 'Intermedio' },
  { name: 'Sass', level: 'Intermedio' },
  { name: 'GraphQL', level: 'Iniciando' }
];

const backendSkills: Skill[] = [
  { name: 'Node.js', level: 'Avanzado' },
  { name: 'Deno', level: 'Intermedio' },
  { name: 'Express', level: 'Intermedio' },
  { name: 'MongoDB', level: 'Intermedio' },
  { name: 'PostgreSQL', level: 'Intermedio' },
  { name: 'Firebase', level: 'Intermedio' },
  { name: 'SQL', level: 'Intermedio' },
  { name: 'Git', level: 'Avanzado' },
  { name: 'Docker', level: 'Iniciando' }
];

// Función para determinar las clases de Tailwind según el nivel
function getSkillLevelStyles(level: string) {
  switch(level) {
    case 'Iniciando':
      return { 
        bg: 'bg-green-500', 
        width: 'w-1/4',
        text: 'text-white' 
      }; // Verde - 25%
    case 'Intermedio':
      return { 
        bg: 'bg-yellow-500', 
        width: 'w-1/2',
        text: 'text-gray-800' 
      }; // Amarillo - 50%
    case 'Avanzado':
      return { 
        bg: 'bg-blue-500', 
        width: 'w-3/4',
        text: 'text-white' 
      }; // Azul - 75%
    case 'Senior':
      return { 
        bg: 'bg-red-500', 
        width: 'w-full',
        text: 'text-white' 
      }; // Rojo - 100%
    default:
      return { 
        bg: 'bg-gray-300/20', 
        width: 'w-[10%]',
        text: 'text-gray-800' 
      }; // Gris - 10%
  }
}

---

<Layout title={`${mySiteTitle} - ${sobreMi}`}>
  <h1 class="text-3xl font-bold text-blue-800 mb-4">{sobreMi}</h1>
  <h2 class="text-xl mb-6">{mySiteTitle}</h2>
  <div class="flex flex-col md:flex-row md:space-x-8">
    <section class="md:w-2/5">
      <h3 class="text-xl font-semibold mb-4">Identidad</h3>
      <div class="bg-white p-5 rounded-lg shadow-sm mb-6">
        <p class="mb-2"><span class="font-medium">Nombre:</span> {identity.firstName}</p>
        <p class="mb-2"><span class="font-medium">Country:</span> {identity.country}</p>
        <p class="mb-2"><span class="font-medium">Ocupation:</span> {identity.ocupation}</p>
        <p><span class="font-medium">Hobbies:</span> {identity.hobbies.join(', ')}</p>
      </div>
    </section>
    <section class="md:w-3/5">
      <h3 class="text-xl font-semibold mb-4">Habilidades</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 bg-white p-5 rounded-lg shadow-sm mb-6">
        <div>
          <h4 class="text-lg font-semibold mb-2 text-blue-700">Frontend</h4>
          <ul class="list-none p-0 space-y-4">
            {frontendSkills.map(skill => {
              const { bg, width, text } = getSkillLevelStyles(skill.level);
              return (
                <li class="mb-3">
                  <div class="font-medium mb-1">{skill.name} - Nivel: {skill.level}</div>
                  <div class="bg-gray-200 rounded-full h-4 overflow-hidden">
                    <div class={`h-full ${bg} ${width} ${text} flex items-center justify-center text-xs`}>
                      {skill.level}
                    </div>
                  </div>
                </li>
              );
            })}
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-2 text-green-700">Backend</h4>
          <ul class="list-none p-0 space-y-4">
            {backendSkills.map(skill => {
              const { bg, width, text } = getSkillLevelStyles(skill.level);
              return (
                <li class="mb-3">
                  <div class="font-medium mb-1">{skill.name} - Nivel: {skill.level}</div>
                  <div class="bg-gray-200 rounded-full h-4 overflow-hidden">
                    <div class={`h-full ${bg} ${width} ${text} flex items-center justify-center text-xs`}>
                      {skill.level}
                    </div>
                  </div>
                </li>
              );
            })}
          </ul>
        </div>
      </div>
    </section>
  </div>
</Layout>